<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Giza Alignments</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Use import maps so OrbitControls can import 'three' cleanly. -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.182.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.182.0/examples/jsm/"
      }
    }
  </script>
</head>

<body>
  <div id="angleReadout">AZ â€”Â°<div class="sub">ALT â€”Â°</div></div>
  <div id="yearReadout">
    <span id="yearBig"></span>
    <input id="yearInput" type="number" class="mono" />
  </div>
  <div id="hud">
    <!-- Fullscreen Toggle -->
    <button id="btnFullscreen" class="fullscreen-btn" type="button">Enter Fullscreen</button>

    <!-- TIME Section -->
    <div class="hud-section">
      <div class="section-header">Time</div>
      <div class="slider-group" id="doyGroup">
        <div class="slider-header">
          <span class="slider-title">Day of Year</span>
          <span id="doyLabel" class="slider-value">â€”</span>
        </div>
        <input id="doySlider" type="range" min="1" max="366" step="1" />
      </div>
      <div class="slider-group" id="timeGroup">
        <div class="slider-header">
          <span class="slider-title">Time (UTC)</span>
          <span id="timeLabel" class="slider-value">â€”</span>
        </div>
        <input id="timeSlider" type="range" min="0" max="24" step="0.05" />
      </div>
    </div>

    <!-- LOCKS Section -->
    <div class="hud-section">
      <div class="section-header">Locks</div>
      <div class="toggle-group">
        <label class="toggle-box lock-toggle">
          <input type="radio" name="snapMode" value="none" checked />
          <span class="toggle-label">None</span>
        </label>
        <label class="toggle-box lock-toggle">
          <input type="radio" name="snapMode" value="dawn" />
          <span class="lock-icon">ðŸ”’</span>
          <span class="toggle-label">Solstice Dawn</span>
        </label>
        <label class="toggle-box lock-toggle">
          <input type="radio" name="snapMode" value="culmination" />
          <span class="lock-icon">ðŸ”’</span>
          <span class="toggle-label">Alnilam Highest</span>
        </label>
      </div>
    </div>

    <!-- SETTINGS Section -->
    <div class="hud-section">
      <div class="section-header">Settings</div>
      <div class="toggle-group">
        <label class="toggle-box">
          <input type="radio" name="origin" value="khufu" checked />
          <span class="toggle-label">Khufu</span>
        </label>
        <label class="toggle-box">
          <input type="radio" name="origin" value="sphinx" />
          <span class="toggle-label">Sphinx</span>
        </label>
      </div>
    </div>

    <div class="row small" id="loadStatus"></div>
    <span id="coordDec" style="display:none"></span>
  </div>

  <!-- Floating collapse button (visible in fullscreen mode) -->
  <button id="btnCollapse" class="collapse-btn" type="button">Exit Fullscreen</button>

  <!-- Right Panel - Story/Info -->
  <div id="rightPanel">
    <div class="panel-header">Explore</div>
    <div class="preset-buttons">
      <button class="story-preset-btn" data-preset="sphinx47k">Sphinx 47k BC</button>
      <button class="story-preset-btn" data-preset="sphinx25k">Sphinx 25k BC</button>
      <button class="story-preset-btn" data-preset="khufu2600">Khufu 2500 BC</button>
    </div>
    <div id="storyContent">
      <p>Loading...</p>
    </div>
  </div>

  <div id="timelineBar">
    <div id="timelineControls">
      <button id="btnTimelineMode" class="timeline-mode-btn" data-mode="standard">Standard</button>
    </div>
    <div id="presetMarkers"></div>
    <div id="tickScale"></div>
    <div id="dynastyTrack"></div>
    <input id="yearSlider" type="range" min="0" max="1000" step="1" />
  </div>

  <!-- Mobile dialog -->
  <div id="mobileDialog" class="mobile-dialog-overlay" style="display: none;">
    <div class="mobile-dialog">
      <p>Adjust settings on the desktop version of this website</p>
      <button id="mobileDialogClose">OK</button>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
